(function() {
  var $, Config;

  $ = require('atom').$;

  Config = require('./config');

  module.exports = {
    activate: function() {
      var height, treeSize, width, x, y;
      if (Config.restoreWindow()) {
        x = Config.windowX();
        y = Config.windowY();
        width = Config.windowWidth();
        height = Config.windowHeight();
        this.restore(x, y, width, height);
      }
      if (Config.restoreFileTreeSize()) {
        treeSize = Config.treeSize();
        this.restoreTree(treeSize);
      }
      return this.addListeners();
    },
    save: function() {
      var treeSize, window;
      window = atom.getWindowDimensions();
      treeSize = $('.tree-view-resizer').width();
      Config.windowX(window.x);
      Config.windowY(window.y);
      Config.windowWidth(window.width);
      Config.windowHeight(window.height);
      return Config.treeSize(treeSize);
    },
    restore: function(x, y, width, height, treeSize) {
      if (x > 0 && y > 0) {
        atom.setPosition(x, y);
      }
      if (width > 0 && height > 0) {
        return atom.setSize(width, height);
      }
    },
    restoreTree: function(size) {
      if (size > 0) {
        return $(window).on('ready', function() {
          return $('.tree-view-resizer').width(size);
        });
      }
    },
    addListeners: function() {
      return $(window).on('resize', (function(_this) {
        return function() {
          return _this.save();
        };
      })(this));
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLFNBQUE7O0FBQUEsRUFBQyxJQUFLLE9BQUEsQ0FBUSxNQUFSLEVBQUwsQ0FBRCxDQUFBOztBQUFBLEVBQ0EsTUFBQSxHQUFTLE9BQUEsQ0FBUSxVQUFSLENBRFQsQ0FBQTs7QUFBQSxFQUdBLE1BQU0sQ0FBQyxPQUFQLEdBRUU7QUFBQSxJQUFBLFFBQUEsRUFBVSxTQUFBLEdBQUE7QUFFUixVQUFBLDZCQUFBO0FBQUEsTUFBQSxJQUFHLE1BQU0sQ0FBQyxhQUFQLENBQUEsQ0FBSDtBQUNFLFFBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQyxPQUFQLENBQUEsQ0FBSixDQUFBO0FBQUEsUUFDQSxDQUFBLEdBQUksTUFBTSxDQUFDLE9BQVAsQ0FBQSxDQURKLENBQUE7QUFBQSxRQUVBLEtBQUEsR0FBUSxNQUFNLENBQUMsV0FBUCxDQUFBLENBRlIsQ0FBQTtBQUFBLFFBR0EsTUFBQSxHQUFTLE1BQU0sQ0FBQyxZQUFQLENBQUEsQ0FIVCxDQUFBO0FBQUEsUUFJQSxJQUFDLENBQUEsT0FBRCxDQUFTLENBQVQsRUFBWSxDQUFaLEVBQWUsS0FBZixFQUFzQixNQUF0QixDQUpBLENBREY7T0FBQTtBQU9BLE1BQUEsSUFBRyxNQUFNLENBQUMsbUJBQVAsQ0FBQSxDQUFIO0FBQ0UsUUFBQSxRQUFBLEdBQVcsTUFBTSxDQUFDLFFBQVAsQ0FBQSxDQUFYLENBQUE7QUFBQSxRQUNBLElBQUMsQ0FBQSxXQUFELENBQWEsUUFBYixDQURBLENBREY7T0FQQTthQVdBLElBQUMsQ0FBQSxZQUFELENBQUEsRUFiUTtJQUFBLENBQVY7QUFBQSxJQWVBLElBQUEsRUFBTSxTQUFBLEdBQUE7QUFDSixVQUFBLGdCQUFBO0FBQUEsTUFBQSxNQUFBLEdBQVMsSUFBSSxDQUFDLG1CQUFMLENBQUEsQ0FBVCxDQUFBO0FBQUEsTUFDQSxRQUFBLEdBQVcsQ0FBQSxDQUFFLG9CQUFGLENBQXVCLENBQUMsS0FBeEIsQ0FBQSxDQURYLENBQUE7QUFBQSxNQUdBLE1BQU0sQ0FBQyxPQUFQLENBQWUsTUFBTSxDQUFDLENBQXRCLENBSEEsQ0FBQTtBQUFBLE1BSUEsTUFBTSxDQUFDLE9BQVAsQ0FBZSxNQUFNLENBQUMsQ0FBdEIsQ0FKQSxDQUFBO0FBQUEsTUFLQSxNQUFNLENBQUMsV0FBUCxDQUFtQixNQUFNLENBQUMsS0FBMUIsQ0FMQSxDQUFBO0FBQUEsTUFNQSxNQUFNLENBQUMsWUFBUCxDQUFvQixNQUFNLENBQUMsTUFBM0IsQ0FOQSxDQUFBO2FBT0EsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsUUFBaEIsRUFSSTtJQUFBLENBZk47QUFBQSxJQXlCQSxPQUFBLEVBQVMsU0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQVAsRUFBYyxNQUFkLEVBQXNCLFFBQXRCLEdBQUE7QUFDUCxNQUFBLElBQUcsQ0FBQSxHQUFJLENBQUosSUFBVSxDQUFBLEdBQUksQ0FBakI7QUFDRSxRQUFBLElBQUksQ0FBQyxXQUFMLENBQWlCLENBQWpCLEVBQW9CLENBQXBCLENBQUEsQ0FERjtPQUFBO0FBR0EsTUFBQSxJQUFHLEtBQUEsR0FBUSxDQUFSLElBQWMsTUFBQSxHQUFTLENBQTFCO2VBQ0UsSUFBSSxDQUFDLE9BQUwsQ0FBYSxLQUFiLEVBQW9CLE1BQXBCLEVBREY7T0FKTztJQUFBLENBekJUO0FBQUEsSUFnQ0EsV0FBQSxFQUFhLFNBQUMsSUFBRCxHQUFBO0FBQ1gsTUFBQSxJQUFHLElBQUEsR0FBTyxDQUFWO2VBQ0UsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFNBQUEsR0FBQTtpQkFDcEIsQ0FBQSxDQUFFLG9CQUFGLENBQXVCLENBQUMsS0FBeEIsQ0FBOEIsSUFBOUIsRUFEb0I7UUFBQSxDQUF0QixFQURGO09BRFc7SUFBQSxDQWhDYjtBQUFBLElBcUNBLFlBQUEsRUFBYyxTQUFBLEdBQUE7YUFDWixDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsRUFBVixDQUFhLFFBQWIsRUFBdUIsQ0FBQSxTQUFBLEtBQUEsR0FBQTtlQUFBLFNBQUEsR0FBQTtpQkFBRyxLQUFDLENBQUEsSUFBRCxDQUFBLEVBQUg7UUFBQSxFQUFBO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUF2QixFQURZO0lBQUEsQ0FyQ2Q7R0FMRixDQUFBO0FBQUEiCn0=
//# sourceURL=/Users/julien/.atom/packages/save-session/lib/dimensions.coffee